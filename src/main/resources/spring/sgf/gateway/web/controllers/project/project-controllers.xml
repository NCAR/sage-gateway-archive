<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-4.0.xsd">

    <bean id="cadisProjectViewSelector" class="sgf.gateway.web.controllers.project.CadisProjectViewSelector">
        <constructor-arg name="datasetRepository" ref="datasetRepository"/>
        <constructor-arg name="viewHandler">
            <bean class="sgf.gateway.web.controllers.browse.cadis.CADISProjectViewHandler">
                <constructor-arg index="0" value="cadis/project/view-project"/>
            </bean>
        </constructor-arg>
    </bean>

    <bean id="esgProjectViewSelector" class="sgf.gateway.web.controllers.project.EsgProjectViewSelector">
        <constructor-arg name="projectViewHandlers">
            <list>
                <bean class="sgf.gateway.web.controllers.browse.narcap.NARCCAPProjectViewHandler">
                    <constructor-arg index="0" ref="datasetRepository"/>
                    <constructor-arg index="1" ref="dateStrategy"/>
                    <property name="viewName" value="browse/narcap/view-project"/>
                </bean>
                <bean class="sgf.gateway.web.controllers.browse.dycore.DycoreProjectViewHandler">
                    <property name="viewName" value="browse/dycore/view-project"/>
                </bean>
                <bean class="sgf.gateway.web.controllers.browse.trace.TraceProjectViewHandler">
                    <property name="viewName" value="browse/trace/view-project"/>
                </bean>
                <bean class="sgf.gateway.web.controllers.browse.DefaultProjectViewHandler">
                    <property name="viewName" value="browse/view-project"/>
                </bean>
            </list>
        </constructor-arg>
        <constructor-arg name="projectRepository" ref="projectRepository"/>
    </bean>

    <bean id="projectController" class="sgf.gateway.web.controllers.project.ProjectController">
        <constructor-arg name="projectViewSelector" ref="${view.project.selector}"/>
    </bean>

    <bean id="ContactProjectsController" class="sgf.gateway.web.controllers.browse.contact.ContactProjectsController">
        <constructor-arg name="responsiblePartyRepository" ref="responsiblePartyRepository"/>
    </bean>

    <bean id="principalInvestigatorWithData" class="sgf.gateway.model.metadata.citation.PrincipalInvestigatorWithData">
    </bean>

    <bean id="projectEditorController" class="sgf.gateway.web.controllers.project.ProjectEditorController">
        <constructor-arg index="0" ref="cadisProjectService"/>
        <constructor-arg index="1" ref="ISO8601DateEditorNullable"/>
    </bean>

    <bean id="esgProjectEditorController" class="sgf.gateway.web.controllers.project.EsgProjectEditorController">
        <constructor-arg index="0" ref="projectService"/>
    </bean>

    <bean id="projectAwardEditorController" class="sgf.gateway.web.controllers.project.ProjectAwardEditorController">
        <constructor-arg index="0" ref="addAwardValidator"/>
        <constructor-arg index="1" ref="cadisDatasetService"/>
    </bean>

    <bean id="projectAwardController" class="sgf.gateway.web.controllers.project.award.AwardController">
        <constructor-arg name="authorizationUtils" ref="authorizationUtils"/>
        <constructor-arg name="datasetService" ref="cadisDatasetService"/>
    </bean>

</beans>
