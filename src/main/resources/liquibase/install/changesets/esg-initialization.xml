
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd" >

    <changeSet author="sgf" id="esg-initialization" context="esg_cet">
        <sql>
            -- Mockup of ESG-CET Registry Service data
            SET search_path = metadata, pg_catalog;

            -- Gateways
            INSERT INTO gateway (id, name, description, base_url, base_secure_url, attributes_service_url, oai_repository_url, identity, administrator_personal, administrator_email, myproxy_endpoint, idp_endpoint, metadata_profile_id) VALUES ('5abbeca4-835e-4fdb-8fbc-0be206191027', 'ESG-CET', 'Earth System Grid default gateway', 'http://localhost:8080/ESG-CET2/', 'https://localhost:8443/ESG-CET2/', 'https://localhost:8443/ESG-CET2/saml/soap/secure/attributeService.htm', 'http://localhost:8443/ESG-CET2/oai/repository.htm', 'CN=localhost, OU=CISL, O=NCAR, L=Boulder, ST=CO, C=US', 'ESG Gateway Administrator', 'administrator@earthsystemgrid.org', 'localhost:7512', 'https://localhost:8443/ESG-CET/openid/provider.htm','342bb71a-01bd-479e-b837-de8133464733');


            SET search_path = security, pg_catalog;

            -- Memberships in BDM Group
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('6bd10d46-cef6-4aad-a014-1097a0cbaf82', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276', 1, 3);
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('6c074b57-fd26-42ec-a460-acb17f20a607', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276', 2, 3);
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('19dc698f-a516-4d2b-9f12-63e1f988022b', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276', 3, 3);
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('ab364f9d-d8b1-40a4-b3e0-185da44c4681', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276', 4, 3);

            -- Memberships in ESG-CET Group
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('4c74a110-1c27-4822-a986-82a5ac85c0ee', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77', 1, 3);
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('c04223e6-d09d-4b42-a928-38763a9b636b', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77', 2, 3);
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('fbfcf50c-0fcc-4341-b255-ec43bc114687', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77', 3, 3);
            INSERT INTO security.membership (id, user_id, group_id, role_id, status_id) VALUES ('d2df527a-9a78-4aa9-a51b-06023393e011', 'd68340c0-4a24-4ada-b38a-ecbadf138589', 'bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77', 4, 3);

            -- BDM Group (for system gateway)
            INSERT INTO security.principal (id) VALUES ('ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276');
            INSERT INTO security.group (id, name, description, visible, automatic_approval) VALUES ('ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276', 'BDM', 'Bulk Data Movement', false, false);
            INSERT INTO security.group_default_role (group_id, role_id) VALUES ('ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276', 1);
            INSERT INTO security.group_default_role (group_id, role_id) VALUES ('ad1e0cb6-8aaa-4e9b-b668-7dd5e1360276', 2);

            -- ESG-CET Restricted Group for Default Gateway
            INSERT INTO security.principal (id) VALUES ('bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77');
            INSERT INTO security.group (id, name, description, visible, automatic_approval) VALUES ('bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77', 'ESG-CET Restricted', 'ESG-CET Specially Authorized users', true, false);
            INSERT INTO security.group_default_role (group_id, role_id) VALUES ('bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77', 1);
            INSERT INTO security.group_data (id, name, description, group_data_type_id) VALUES ('98e60ef6-c8d2-4d3f-ad61-4e5e44681085', 'Statement of Work', 'Please describe why you are interested in ESG data', 0);
            INSERT INTO security.group_group_data_xref (group_id, required, group_data_id) VALUES ('bfe0c13f-eef0-4bfd-8843-fcdd0bcabc77', true, '98e60ef6-c8d2-4d3f-ad61-4e5e44681085');


            -- CMIP5 RESEARCH group
            INSERT INTO principal (id) VALUES ('b347a0d6-cdff-4696-ac03-68dce6473aee');
            INSERT INTO security.group (id, name, description, visible, automatic_approval) VALUES ('b347a0d6-cdff-4696-ac03-68dce6473aee', 'CMIP5 Research', 'Users of CMIP5 data for non-commercial research purposes only', true, false);
            INSERT INTO security.group_default_role (group_id, role_id) VALUES ('b347a0d6-cdff-4696-ac03-68dce6473aee', 1);
            INSERT INTO security.group_data (id, name, description, group_data_type_id) VALUES ('7ffdc82e-401a-47d0-8f17-75d7005262f5', 'CMIP5 Statement of Work', 'Please describe why you would like access to IPCC data', 1);
            INSERT INTO security.group_group_data_xref (group_id, required, group_data_id) VALUES ('b347a0d6-cdff-4696-ac03-68dce6473aee', true, '7ffdc82e-401a-47d0-8f17-75d7005262f5');
            INSERT INTO security.group_data (id, name, description, group_data_type_id, value) VALUES ('3a4044c0-c3c6-4deb-aa15-a1b291428db3', 'Terms of Use for Research Purposes Only', '', 3, 'CMIP5 data Terms of Use for Research Purposes Only
            These data are for use in research projects only.
            A ''research project'' is any project carried out by
            an individual or organized by a university,
            a scientific institute, or similar organization
            (private or public) for non-commercial research
            purposes only. Results based on these data must be
            submitted for publication in the open literature
            without any delay linked to commercial objectives.

            In first making reference to the data obtained
            from the CMIP3 archive, please include the phrase
            "the World Climate Research Program''s (WCRP''s)
            Coupled Model Intercomparison Project phase 3
            (CMIP3) multi-model dataset".
            Subsequent references within the same publication
            might refer to the data with terms such as
            "CMIP3 data", "the CMIP3 multi-model dataset",
            "the CMIP3 archive", or the "CMIP3 dataset".

            Whenever you publish research based on model
            output from the CMIP3 database, you should
            include the following acknowledgement:

            "We acknowledge the modeling groups for making
            their model output available for analysis,
            the Program for Climate Model Diagnosis and
            Intercomparison (PCMDI) for collecting and
            archiving this data, and the WCRP''s Working Group
            on Coupled Modelling (WGCM) for organizing the
            model data analysis activity. The WCRP CMIP3
            multi-model dataset is supported by the Office
            of Science, U.S. Department of Energy."

            [Note that the acronyms, WCRP and CMIP3, should
            have already appeared in the main text of your
            article, where they were presumably defined.]');
            INSERT INTO security.group_group_data_xref (group_id, required, group_data_id) VALUES ('b347a0d6-cdff-4696-ac03-68dce6473aee', true, '3a4044c0-c3c6-4deb-aa15-a1b291428db3');

            -- CMIP5 COMMERCIAL group
            INSERT INTO security.principal (id) VALUES ('426052df-a7d4-46b5-96bb-d32178f570e5');
            INSERT INTO security.group (id, name, description, visible, automatic_approval) VALUES ('426052df-a7d4-46b5-96bb-d32178f570e5', 'CMIP5 Commercial', 'Users of CMIP5 data possibly for commercial purposes', true, false);
            INSERT INTO security.group_default_role (group_id, role_id) VALUES ('426052df-a7d4-46b5-96bb-d32178f570e5', 1);
            INSERT INTO security.group_group_data_xref (group_id, required, group_data_id) VALUES ('426052df-a7d4-46b5-96bb-d32178f570e5', true, '7ffdc82e-401a-47d0-8f17-75d7005262f5');
            INSERT INTO security.group_data (id, name, description, group_data_type_id, value) VALUES ('487afe5f-b2b8-45a0-9b99-6959eb9cd21b', 'Terms of Use for Commercial Purposes', '', 3, 'CMIP5 data Terms of Use for Commercial Purposes
            Commercial Terms of Use go here.');
            INSERT INTO security.group_group_data_xref (group_id, required, group_data_id) VALUES ('426052df-a7d4-46b5-96bb-d32178f570e5', true, '487afe5f-b2b8-45a0-9b99-6959eb9cd21b');

        </sql>

    </changeSet>

</databaseChangeLog>